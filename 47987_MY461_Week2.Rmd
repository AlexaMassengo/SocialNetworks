---
title: "47987_MY461_Week2"
author: '47987'
date: "2023-02-01"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Logistics

Downloading the appropriate libraries:
```{r}
install.packages("igraph")
install.packages("igraphdata")
install.packages("tidygraph")
library(igraph)
library(igraphdata)
library(tidygraph)
```

Feeding in the data:
```{r}

```

```{r}
g1 <- make_graph(edges = c("Aaron","Misaal",
"Adetayo","Tessa",
"Aishat","Ona",
"Ajax","Adetayo",
"Alaweya","Damilare",
"Alexa","Alexa",
"Alexandra","Schera",
"Alina","Alexa",
"Amina","Paulina",
"Amy (Sathya +1)","Sathya",
"Anesu","Tessa",
"Ants","Michael",
"Anwar","Michael",
"April","Paulina",
"Aurora","Axel",
"Axel","Mahilet",
"Baba","Alexa",
"Bami","Alexa",
"Barns","Chelsea",
"Bernita","Malika",
"Cal1sto","Finch",
"Chelsea","Tessa",
"Chloe","Malika",
"CK","Alexa",
"Clive","Alexa",
"Dave","Tallulah",
"David","Schera",
"Diana","Alexa",
"Dillon","Toren",
"Dimeji","Isaac",
"Divine","Baba",
"Dom","Tessa",
"Dot","Tessa",
"Drvcilla","Sathya",
"Ebenezer","Divine",
"Edd","Damilare",
"Elijah","Alina",
"Eman","Alexa",
"Eman Notts","Mehmet",
"Emma","Alexa",
"Enzo","Sheck East",
"Ester","Simba",
"Fanuel","Toye",
"Favour","Tessa",
"Feranmi","Axel",
"Fin","Alexa",
"Finch","Paulina",
"Floraine","Tallulah",
"Gbnga","Isaac",
"George","Alaweya",
"George +1","George",
"Grace","Alexa",
"Grace","Chloe",
"Habib","Baba",
"Hama","Baba",
"Henry","Ants",
"Henry +1","Henry",
"Iman","Alexa",
"India","Keziah",
"Isaac","Alexa",
"J'Leise","Alexa",
"Jackie","Sanu",
"Jaida","Alexa",
"Jan","Ajax",
"Javan","Goldsmiths",
"Jean Michel","Alexa",
"Jen","Alexa",
"Jess","Ester",
"Jojo","Valentine",
"KD22","Edd",
"Kellendria","Alexa",
"Kenny","Alexa",
"Keziah","Toren",
"Kiya","Grace I",
"Kutch","Alexa",
"Lashai","Paul",
"Laura","Alexa",
"Lekky","Alexa",
"Len","Bami",
"Lewis","Fanuel",
"Lola","Alexa",
"Lola","Aishat",
"Lorraine","Sarah",
"Lucille +1","Kenny",
"Lydia","Nyat",
"Lyndon","Michael Lemoru",
"Mahilet","Alexa",
"Mahlahsia","Alexa",
"Malika","Grace I",
"Mark","Ming",
"Marvin","Tito",
"Masud","Aaron",
"Megan","Alexa",
"Megan +1","Megan",
"Mehmet","Eman",
"Melisa","Alina",
"Michael","Eman Notts",
"Michael Lemoru","Ants",
"Ming","Tallulah",
"Misaal","Javan",
"Misuka","Javan",
"Mubarak","Alexa",
"Musti","Lekky",
"Nadine","Gbnga",
"Nanya","Met Online",
"Naomi","Henry",
"Nat","Alexa",
"Neyat","Seghen",
"Niz +1","Niz",
"Nur","Alexa",
"Nyat","Neyat",
"Aminat","Ola",
"Ona","Aishat",
"Pabz","Grace",
"Paul","Lashai",
"Paulina","Alaweya",
"Philip/ Chad +1","Seun",
"Pima","Alexa",
"Precious","Alexa",
"Rachel","Megan",
"Rahel","Michael Lemoru",
"Reem","Toye",
"Reti","Yana",
"Rhoda","Tatenda",
"Roxanne","Chelsea",
"Saff","Emma",
"Sanu +1","Sanu",
"Sara","Lorraine",
"Sathya","Alexa",
"Schera","Met Online",
"Seghen","Rhoda",
"Seun","Nyat",
"Seun from summer","Alexa",
"Sheck East","Chelsea",
"Simba","Tatenda",
"Sosa","Alexa",
"Sosa +1","Sosa",
"Sosa +2","Sosa",
"Steph","Alaweya",
"Sundus","Goldsmiths",
"Sushi","Nyat",
"Talia","Tamia",
"Tallulah","Alexa",
"Tamia","Jen",
"Tatenda","Tessa",
"Tessa","Alex",
"Thomas","Elijah",
"Timi (Tobs +1)","Tobss",
"Tito","Aishat",
"Tobss","Alexa",
"Tom","Alexa",
"Toneh","Jen",
"Toren","Nyat",
"Toye","Tessa",
"Trinite","Jess",
"Tyra","Naomi",
"Valentina","Tessa",
"Vicky","Grace",
"Wayne","Alina",
"Yana","Grace",
"Yasmin","Alexa",
"Yusuf","Seun",
"Zhane","Sosa",
"Zino","Alexa"),
                 directed = FALSE)

print(g1)
```

```{r}
plot.igraph(g1)
```

```{r}
as_edgelist(g1, names = TRUE)
V(g1)$names
```

```{r}
V(g1)$perceived_gender <- c("M",
"F",
"F",
"M",
"F",
"NB",
"NB",
"F",
"F",
"F",
"F",
"M",
"M",
"F",
"F",
"M",
"M",
"M",
"M",
"F",
"M",
"F",
"F",
"M",
"M",
"M",
"M",
"F",
"M",
"M",
"M",
"M",
"F",
"F",
"M",
"M",
"M",
"M",
"M",
"F",
"M",
"F",
"M",
"M",
"F",
"M",
"M",
"F",
"M",
"M",
"M",
"F",
"F",
"M",
"M",
"M",
"M",
"F",
"F",
"M",
"F",
"F",
"NB",
"F",
"M",
"M",
"F",
"F",
"M",
"NB",
"F",
"M",
"F",
"F",
"F",
"F",
"F",
"M",
"M",
"M",
"F",
"F",
"F",
"F",
"F",
"M",
"F",
"NB",
"F",
"M",
"M",
"NB",
"F",
"F",
"M",
"F",
"M",
"M",
"F",
"F",
"F",
"M",
"M",
"F",
"F",
"F",
"F",
"F",
"M",
"F",
"F",
"F",
"F",
"M",
"M",
"F",
"M",
"F",
"M",
"F",
"F",
"F",
"F",
"F",
"F",
"F",
"F",
"F",
"F",
"F",
"F",
"M",
"M",
"M",
"F",
"F",
"F",
"F",
"F",
"F",
"F",
"NB",
"F",
"NB",
"M",
"F",
"M",
"M",
"M",
"M",
"NB",
"F",
"M",
"M",
"F",
"F",
"F",
"F",
"M",
"F",
"F",
"M",
"F",
"M")
```

```{r}
V(g1)$perceived_gender
```

```{r}
E(g1)$status <- c("Confirmed",
"Can't make it ):",
"Confirmed",
"Deya",
"Confirmed",
"Confirmed",
"No answer",
"Dropout",
"Waiting list",
"Confirmed",
"Can't make it ):",
"CF Invite",
"Confirmed",
"Waiting list",
"Confirmed",
"Confirmed",
"No answer",
"Waiting list",
"Waiting list",
"Can't make it ):",
"Waiting list",
"Can't make it ):",
"Lmk later",
"CF Invite",
"Maybe",
"Dropout",
"Waiting list",
"Deya",
"Deya",
"Confirmed",
"Confirmed",
"CF Invite",
"CF Invite",
"Confirmed",
"Confirmed",
"Confirmed",
"Can't make it ):",
"CF Invite",
"Confirmed",
"Confirmed",
"Waiting list",
"No answer",
"Confirmed",
"Confirmed",
"Confirmed",
"Can't make it ):",
"Waiting list",
"Confirmed",
"Confirmed",
"Dropout",
"Dropout",
"Dropout",
"Can't make it ):",
"Waiting list",
"Waiting list",
"Confirmed",
"Confirmed",
"Can't make it ):",
"Confirmed",
"Confirmed",
"Waiting list",
"Waiting list",
"Confirmed",
"Deya",
"Confirmed",
"Confirmed",
"Waiting list",
"Maybe",
"Waiting list",
"No answer",
"No answer",
"Confirmed",
"Confirmed",
"No answer",
"No answer",
"No answer",
"Confirmed",
"Dropout",
"Waiting list",
"Confirmed",
"Can't make it ):",
"Can't make it ):",
"Maybe",
"Waiting list",
"Dropout",
"Confirmed",
"Confirmed",
"Can't make it ):",
"No answer",
"Confirmed",
"Confirmed",
"Can't make it ):",
"Confirmed",
"Confirmed",
"Confirmed",
"Can't make it ):",
"Confirmed",
"Can't make it ):",
"Can't make it ):",
"Lmk later",
"Can't make it ):",
"Confirmed",
"CF Invite",
"Confirmed",
"Confirmed",
"Confirmed",
"Can't make it ):",
"Can't make it ):",
"CF Invite",
"Can't make it ):",
"Dropout",
"Can't make it ):",
"Confirmed",
"Dropout",
"Maybe",
"Waiting list",
"Waiting list",
"Waiting list",
"Dropout",
"Waiting list",
"Can't make it ):",
"Can't make it ):",
"Waiting list",
"Can't make it ):",
"CF Invite",
"Confirmed",
"Can't make it ):",
"No answer",
"Confirmed",
"Confirmed",
"Can't make it ):",
"Dropout",
"Can't make it ):",
"Confirmed",
"Dropout",
"Confirmed",
"Confirmed",
"Confirmed",
"Waiting list",
"Confirmed",
"No answer",
"CF Invite",
"Dropout",
"CF Invite",
"Maybe",
"Confirmed",
"Confirmed",
"Confirmed",
"Confirmed",
"Confirmed",
"Confirmed",
"Can't make it ):",
"No answer",
"Confirmed",
"Confirmed",
"Confirmed",
"Waiting list",
"Can't make it ):",
"Dropout",
"Waiting list",
"Waiting list",
"Confirmed",
"Confirmed",
"Dropout")
```


```{r}
summary(g1)
```

```{r}
g1 <- set_vertex_attr(graph = g1, 
                      name = "perceived_gender", 
                      value = c(20, 26, 19, 34, 22, 30, 21)
                      )
```

```{r}
print(g1) 
```
This means that the network is not directed but it is named. It is a two-mode, bipartite network with 172 number of vertices and 164 edges. The names and perceived gender are vertex-level attributes, whereas status is an edge-level attribute.

```{r}
size.of.vertices <- degree(g1, mode = "in")/2
width.of.edges <- E(g1)$names/5
plot.igraph(g1, 
            vertex.size = size.of.vertices, 
            edge.width = width.of.edges, 
            edge.arrow.size = 0.4, 
            vertex.label.cex = 0.5
            )
```

```{r}
V(g1)$color <- V(g1)$perceived_gender
V(g1)$color <- gsub("F","orange",V(g1)$color)
V(g1)$color <- gsub("M","purple",V(g1)$color)
V(g1)$color <- gsub("NB","red",V(g1)$color)

E(g1)$color <- c("blue")
```

```{r}
plot(g1)
```

```{r}
E(g1)$weight = 0.01
LO = layout_with_fr(g1)
plot(g1, layout=LO, vertex.size=5, vertex.label="")
```
Now that the network is decluttered, it is easier to see the links between these party attendees. The host is more obvious as they have the most edges connected to them. You can see that some people do not have ties to others, and some friendship circles are interconnected. There are 2 vertices that are close friends with eachother. Also, there is a case in the top right corner of somebody being close to a few people but they clearly have a preference for one person that also noted them down as their closest friend - hence the loop that occurs. 

The thing that is not anticipated is the host noting themselves as their closest friend, which causes another loop. This slightly throws off the analysis, and in future research it maybe should not be an option to name yourself.

```{r}
gorder(g1)
```

```{r}
gsize(g1)
```

```{r}
mean(degree(g1))
```
The average degree is 1.906977.

```{r}
diameter(g1)
```
The length of the longest geodesic (i.e., the longest shortest path) is 0.13.